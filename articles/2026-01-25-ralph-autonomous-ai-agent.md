---
title: "【完全自動化】寝てる間にAIがコード書いてくれる「Ralph」が革命的すぎる件"
emoji: "🤖"
type: "tech"
topics: ["ai", "自動化", "claudecode", "エージェント", "開発効率化"]
published: false
---

**「朝起きたら、PRDに書いた機能が全部実装されてた」**

これ、冗談じゃないです。

**Ralph**という自律型AIエージェントを使えば、あなたが寝ている間にAIが勝手にコードを書き、テストを通し、コミットまでしてくれます。

結論から言うと、**これは「AIにコード書かせる」の最終形態**です。

## 🤯 Ralphとは何か？

https://github.com/snarktank/ralph

**Ralph = 自律型AIエージェントループ**

PRD（プロダクト要件定義書）を渡すと、AIが：

1. タスクを自動分解
2. 優先度順に実装
3. テスト実行
4. コミット
5. 次のタスクへ

これを**全タスク完了まで無限ループ**します。

:::message alert
**GitHub Stars: 7,400+** ⭐
まだ知らない人、完全に出遅れてます。
:::

## 🔥 何がヤバいのか？

### 従来のAIコーディング

```
人間: 「この機能を実装して」
AI: 「はい、実装しました」
人間: 「テストが落ちてる」
AI: 「修正しました」
人間: 「まだ落ちてる」
AI: 「...」
（以下、無限ループ）
```

**毎回、人間が介入する必要がある。**

### Ralphのアプローチ

```
人間: PRD.jsonを作成
Ralph: 「了解。全部終わったら起こします」
（6時間後）
Ralph: 「全タスク完了しました」
人間: 「...マジで？」
```

**人間は寝てるだけ。**

## 🛠️ 仕組みを完全解説

### Step 1: PRDをJSONで定義

```json
{
  "stories": [
    {
      "id": "1",
      "title": "ユーザー認証機能",
      "priority": 1,
      "status": "incomplete",
      "acceptance_criteria": [
        "メールとパスワードでログインできる",
        "JWTトークンを発行する",
        "ログアウトできる"
      ]
    },
    {
      "id": "2",
      "title": "プロフィール編集",
      "priority": 2,
      "status": "incomplete"
    }
  ]
}
```

### Step 2: Ralphを起動

```bash
./ralph.sh
```

以上。

### Step 3: Ralphがやること

```
🔄 ループ開始
  ↓
📋 prd.jsonから未完了タスクを取得
  ↓
🎯 最優先タスクを選択
  ↓
🤖 Claude Code (or Amp) を起動
  ↓
💻 コード実装
  ↓
✅ テスト実行
  ↓
🔍 型チェック
  ↓
📝 コミット
  ↓
✓ タスクを「完了」にマーク
  ↓
🔄 次のタスクへ（全完了まで）
```

## 💡 なぜこれが革命的なのか？

### 1. コンテキスト問題の解決

AIの最大の弱点：**コンテキストウィンドウの限界**

長いプロジェクトだと、AIは途中で「何やってたっけ？」状態になる。

**Ralphの解決策：**
- 各イテレーションで**新しいAIインスタンス**を起動
- 知識は`progress.txt`と`AGENTS.md`に保存
- Git履歴で文脈を復元

つまり、**AIが「忘れても」大丈夫な設計**。

### 2. 品質の自動維持

「AIに任せると、どんどんコードが壊れていく」問題。

**Ralphの解決策：**
- **テスト通過必須**（落ちたらコミットしない）
- **型チェック必須**
- **CI検証**も可能

品質ゲートを通らないと、先に進めない。

### 3. 人間が理解可能

AIが勝手に書いたコード、後で見たら意味不明...という問題。

**Ralphの解決策：**
- 全変更が**Gitコミット**として残る
- `progress.txt`に**学習内容**が記録される
- `AGENTS.md`に**アーキテクチャ決定**が残る

**人間がいつでも介入可能。**

## 📊 使用例：Before / After

### Before（従来の開発）

| タスク | 所要時間 | 人間の作業 |
|--------|---------|-----------|
| 認証機能 | 8時間 | プロンプト10回 |
| CRUD実装 | 6時間 | プロンプト8回 |
| テスト作成 | 4時間 | プロンプト6回 |
| **合計** | **18時間** | **24回の介入** |

### After（Ralph使用）

| タスク | 所要時間 | 人間の作業 |
|--------|---------|-----------|
| PRD作成 | 30分 | 1回 |
| Ralph起動 | 1分 | 1回 |
| 実行待機 | 6時間 | **0回（寝てる）** |
| レビュー | 1時間 | 1回 |
| **合計** | **7.5時間** | **3回の介入** |

**開発時間: 58%削減**
**人間の介入: 87%削減**

## ⚙️ セットアップ方法

### 必要なもの

- Bash
- jq（JSON処理）
- Git
- Claude Code または Amp CLI

### インストール

```bash
git clone https://github.com/snarktank/ralph.git
cd ralph
```

### PRDを作成

```bash
# prd.jsonを作成（テンプレートあり）
cp prd.example.json prd.json
vim prd.json
```

### 起動

```bash
./ralph.sh
```

:::message
**コツ**: タスクは小さく分割する。
「認証機能を実装」より「ログインエンドポイントを追加」の方が成功率が高い。
:::

## 🎯 ベストプラクティス

### 1. タスクは原子的に

```json
// ❌ 悪い例
{ "title": "ユーザー管理機能を実装" }

// ✅ 良い例
{ "title": "usersテーブルにemail列を追加" }
{ "title": "User.findByEmailメソッドを実装" }
{ "title": "ログインAPIエンドポイントを追加" }
```

### 2. 受け入れ条件を明確に

```json
{
  "title": "パスワードリセット機能",
  "acceptance_criteria": [
    "POST /api/reset-passwordでメール送信",
    "トークンは24時間有効",
    "使用済みトークンは無効化される",
    "テストカバレッジ80%以上"
  ]
}
```

### 3. AGENTS.mdを活用

```markdown
# AGENTS.md

## アーキテクチャ
- Clean Architecture採用
- Repository Pattern使用

## 注意点
- 環境変数は.env.exampleに追記すること
- APIは/api/v1/プレフィックス必須

## 過去の学習
- Prismaのマイグレーションは必ずnpx prisma migrate devで実行
- JWTシークレットは最低32文字必要
```

## 🚀 発展的な使い方

### CI/CDとの統合

```yaml
# GitHub Actions例
name: Ralph Auto-Dev

on:
  schedule:
    - cron: '0 0 * * *'  # 毎日深夜に実行

jobs:
  ralph:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run Ralph
        run: ./ralph.sh
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
```

### 複数PRDの管理

```bash
# 機能別にPRDを分割
./ralph.sh --prd features/auth.json
./ralph.sh --prd features/payment.json
```

## 🤔 よくある質問

### Q: Claude Codeの料金は？
**A:** 使用量に依存します。小さなタスクなら1タスク$0.5〜$2程度。大きなプロジェクトは見積もり必要。

### Q: 途中で止められる？
**A:** Ctrl+Cで停止可能。進捗はprd.jsonに保存されるので、再開も簡単。

### Q: どんな言語に対応？
**A:** 言語・フレームワーク非依存。TypeScript、Python、Go、Rust...何でもOK。

### Q: 本番環境で使える品質？
**A:** テストと型チェックを通過したコードのみコミットされます。ただし、最終レビューは人間が行うべき。

## 🔮 これからの開発はこうなる

2026年、AIエージェントは「ツール」から「同僚」になりつつあります。

Ralphはその最前線。

- PRDを書く → 人間の仕事
- 実装する → AIの仕事
- レビューする → 人間の仕事
- デプロイする → CI/CDの仕事

**「コードを書く」という行為自体が、過去のものになるかもしれません。**

---

## 🔗 リンク

- **GitHub**: https://github.com/snarktank/ralph
- **Stars**: 7,400+ ⭐

---

## 🙏 最後に

この記事が参考になったら、**いいねと保存**をお願いします！

**質問**: 皆さんは自律型AIエージェント、もう使ってますか？Ralphを試してみた感想があればコメントで教えてください！

次回は「**RalphとClaude Codeを組み合わせた最強の自動開発環境構築**」を書く予定です。お楽しみに！
